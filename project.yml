name: DoodleGuess
options:
  bundleIdPrefix: com.matthewlam
  deploymentTarget:
    iOS: "17.0"
settings:
  base:
    SWIFT_VERSION: 5.9

targets:
  DoodleGuess:
    type: application
    platform: iOS
    sources:
      - App
      - Features
      - Models
      - Services
      - Shared
    info:
      path: App/Info.plist
      properties:
        CFBundleDisplayName: DoodleGuess
        CFBundleURLTypes:
          - CFBundleTypeRole: Editor
            CFBundleURLSchemes:
              - doodleguess
        LSRequiresIPhoneOS: true
        UIApplicationSceneManifest:
          UIApplicationSupportsMultipleScenes: false
        UILaunchScreen: {}
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.matthewlam.doodleguess
        PRODUCT_NAME: DoodleGuess
    dependencies:
      - target: DoodleWidget
        embed: true

  DoodleWidget:
    type: app-extension
    platform: iOS
    sources:
      - DoodleWidget
      - Shared
    info:
      path: DoodleWidget/Info.plist
      properties:
        NSExtension:
          NSExtensionPointIdentifier: com.apple.widgetkit-extension
          NSExtensionAttributes:
            NSExtensionWidgetKind: DoodleWidget
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.matthewlam.doodleguess.widget
        PRODUCT_NAME: DoodleWidget

  DoodleGuessTests:
    type: bundle.unit-test
    platform: iOS
    sources:
      - DoodleGuessTests
    info:
      path: DoodleGuessTests/Info.plist
      properties: {}
    dependencies:
      - target: DoodleGuess
